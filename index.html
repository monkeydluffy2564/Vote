<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-time Voting App (‡πÅ‡∏≠‡∏õ‡πÇ‡∏´‡∏ß‡∏ï‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå)</title>
    <!-- 1. Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <!-- 2. Chart.js for graphs --><script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- 3. Inter Font --><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* ‡∏ã‡πà‡∏≠‡∏ô view ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô */
        .view {
            display: none;
        }
        /* ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏Ç‡∏≠‡∏á input type="number" ‡∏ö‡∏ô Chrome/Edge/Safari */
        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        /* ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏Ç‡∏≠‡∏á input type="number" ‡∏ö‡∏ô Firefox */
        input[type="number"] {
            -moz-appearance: textfield;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">

    <!-- ‡∏õ‡∏∏‡πà‡∏° Admin ‡∏•‡∏≠‡∏¢‡∏≠‡∏¢‡∏π‡πà‡∏°‡∏∏‡∏°‡∏ö‡∏ô‡∏Ç‡∏ß‡∏≤ -->
    <button id="admin-login-trigger" class="fixed top-4 right-4 bg-gray-700 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-gray-800 transition z-50">
        üë®‚Äçüíº Admin
    </button>

    <div id="app-container" class="w-full max-w-lg">

        <!-- ===== 1. Loading View (‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏£‡∏≠‡πÇ‡∏´‡∏•‡∏î) ===== --><div id="loading-view" class="view text-center p-8 bg-white rounded-xl shadow-2xl">
            <h1 class="text-2xl font-bold text-gray-800">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</h1>
            <p class="text-gray-500 mt-2">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå...</p>
        </div>

        <!-- ===== (‡∏•‡∏ö Home View ‡πÄ‡∏î‡∏¥‡∏°‡∏≠‡∏≠‡∏Å) ===== -->

        <!-- ===== 3. Admin View (‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô) ===== --><div id="admin-view" class="view w-full">
            <!-- 3.1 Admin: Create Poll (‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏´‡∏ß‡∏ï) --><div id="admin-create-poll" class="bg-white rounded-xl shadow-2xl p-8">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-900">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≠‡∏ö‡πÇ‡∏´‡∏ß‡∏ï‡πÉ‡∏´‡∏°‡πà</h2>
                    <!-- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏∏‡πà‡∏° Logout -->
                    <button id="admin-logout-btn" class="text-sm text-gray-500 hover:text-gray-700">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö &rarr;</button>
                </div>
                
                <div class="space-y-4">
                    <div>
                        <label for="poll-topic" class="block text-sm font-medium text-gray-700">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÇ‡∏´‡∏ß‡∏ï:</label>
                        <input type="text" id="poll-topic" placeholder="‡πÄ‡∏ä‡πà‡∏ô: ‡∏°‡∏∑‡πâ‡∏≠‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡∏ô‡∏µ‡πâ‡∏Å‡∏¥‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏î‡∏µ?" class="mt-1 block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="poll-type" class="block text-sm font-medium text-gray-700">‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏ß‡∏ï:</label>
                        <select id="poll-type" class="mt-1 block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white">
                            <option value="yes-no">‡πÄ‡∏´‡πá‡∏ô‡∏î‡πâ‡∏ß‡∏¢ / ‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏î‡πâ‡∏ß‡∏¢</option>
                            <option value="custom">‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 40 ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å)</option>
                        </select>
                    </div>
                    <!-- ===== ‡πÄ‡∏û‡∏¥‡πà‡∏°: ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÇ‡∏´‡∏ß‡∏ï ===== -->
                    <div>
                        <label for="vote-restriction" class="block text-sm font-medium text-gray-700">‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÇ‡∏´‡∏ß‡∏ï:</label>
                        <select id="vote-restriction" class="mt-1 block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white">
                            <option value="multiple">‡πÇ‡∏´‡∏ß‡∏ï‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≠‡∏ö‡πÑ‡∏î‡πâ</option>
                            <option value="single" selected>‡∏à‡∏≥‡∏Å‡∏±‡∏î 1 ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÇ‡∏´‡∏ß‡∏ï‡∏ï‡πà‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)</option>
                        </select>
                    </div>
                    <!-- ========================================== -->
                    <!-- ‡∏ä‡πà‡∏≠‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô textarea) --><div id="custom-options-container" class="space-y-2 hidden">
                        <label for="custom-options-textarea" class="block text-sm font-medium text-gray-700">‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á (‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏•‡∏∞ 1 ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å, 2-40 ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å):</label>
                        <textarea id="custom-options-textarea" rows="8" class="block w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà 1
‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà 2
‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà 3"></textarea>
                    </div>
                    
                    <p id="admin-error" class="text-red-500 text-sm"></p>
                    
                    <button id="start-poll-btn" class="w-full bg-blue-600 text-white p-4 rounded-lg font-semibold text-lg hover:bg-blue-700 transition duration-300 shadow-md">
                        üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏≠‡∏ö‡πÇ‡∏´‡∏ß‡∏ï
                    </button>
                </div>
            </div>

            <!-- 3.2 Admin: Dashboard (‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•) --><div id="admin-dashboard" class="hidden bg-white rounded-xl shadow-2xl p-8">
                <h2 class="text-2xl font-bold text-gray-900 text-center mb-2">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠: <span id="dashboard-topic" class="text-blue-600">...</span></h2>
                <p class="text-center text-gray-600 mb-4">‡∏ú‡∏π‡πâ‡πÇ‡∏´‡∏ß‡∏ï‡πÉ‡∏ä‡πâ PIN ‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°:</p>
                <div class="bg-gray-900 text-white p-6 rounded-lg text-center mb-6 shadow-inner">
                    <span id="dashboard-pin" class="text-6xl font-bold tracking-widest">----</span>
                </div>
                
                <h3 class="text-xl font-semibold text-gray-800 mb-4">‡∏ú‡∏•‡πÇ‡∏´‡∏ß‡∏ï‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå</h3>
                <div class="w-full h-64">
                    <canvas id="vote-chart"></canvas>
                </div>
                
                <button id="close-poll-btn" class="w-full bg-red-600 text-white p-4 rounded-lg font-semibold text-lg hover:bg-red-700 transition duration-300 shadow-md mt-8">
                    üîí ‡∏õ‡∏¥‡∏î‡∏£‡∏≠‡∏ö‡πÇ‡∏´‡∏ß‡∏ï
                </button>
            </div>
        </div>

        <!-- ===== 4. Voter View (‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ú‡∏π‡πâ‡πÇ‡∏´‡∏ß‡∏ï) - ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å ===== --><div id="voter-view" class="view w-full">
            <!-- 4.1 Voter: PIN Entry (‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏£‡∏≠‡∏Å PIN) --><div id="voter-pin-entry" class="bg-white rounded-xl shadow-2xl p-8">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-900">‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÇ‡∏´‡∏ß‡∏ï</h2>
                    <!-- ‡∏•‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å -->
                </div>
                <div>
                    <label for="pin-input" class="block text-sm font-medium text-gray-700">‡∏Å‡∏£‡∏≠‡∏Å PIN 4 ‡∏´‡∏•‡∏±‡∏Å:</label>
                    <input type="number" id="pin-input" placeholder="1234" maxlength="4" class="mt-1 block w-full p-4 text-2xl text-center border border-gray-300 rounded-lg shadow-sm focus:ring-green-500 focus:border-green-500">
                </div>
                
                <p id="voter-error" class="text-red-500 text-sm mt-4 text-center"></p>

                <button id="join-poll-btn" class="w-full bg-green-600 text-white p-4 rounded-lg font-semibold text-lg hover:bg-green-700 transition duration-300 shadow-md mt-6">
                    ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°
                </button>
            </div>

            <!-- 4.2 Voter: Voting Area (‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏´‡∏ß‡∏ï) --><div id="voter-voting-area" class="hidden bg-white rounded-xl shadow-2xl p-8">
                <h2 class="text-2xl font-bold text-gray-900 text-center mb-2">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÇ‡∏´‡∏ß‡∏ï</h2>
                <p id="voter-topic" class="text-center text-gray-700 text-lg mb-8">...</p>
                
                <div id="voter-options-container" class="space-y-4">
                    <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÇ‡∏´‡∏ß‡∏ï‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢ JavaScript --></div>
                
                <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á error ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏´‡∏ß‡∏ï -->
                <p id="voter-vote-error" class="text-red-500 text-sm mt-4 text-center"></p>
            </div>

            <!-- 4.3 Voter: Message Area (‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°) --><div id="voter-message-area" class="hidden bg-white rounded-xl shadow-2xl p-12 text-center">
                <h2 id="voter-message-title" class="text-2xl font-bold text-gray-900">...</h2>
                <p id="voter-message-body" class="text-gray-600 mt-2">...</p>
                <button id="voter-back-pin-btn" class="mt-6 bg-gray-200 text-gray-800 p-3 rounded-lg hover:bg-gray-300 transition">
                    &larr; ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏£‡∏≠‡∏Å PIN
                </button>
            </div>
        </div>

    </div>

    <!-- ===== Admin Login Modal ===== -->
    <div id="admin-login-view" class="view fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-40">
        <div class="bg-white rounded-xl shadow-2xl p-8 w-full max-w-sm">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900">Admin Login</h2>
                <button id="admin-login-close-btn" class="text-2xl text-gray-500 hover:text-gray-700">&times;</button>
            </div>
            <div>
                <label for="admin-password" class="block text-sm font-medium text-gray-700">‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô:</label>
                <input type="password" id="admin-password" class="mt-1 block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500">
            </div>
            <p id="admin-login-error" class="text-red-500 text-sm mt-4 text-center"></p>
            <button id="admin-login-submit-btn" class="w-full bg-blue-600 text-white p-3 rounded-lg font-semibold text-lg hover:bg-blue-700 transition duration-300 shadow-md mt-6">
                ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
            </button>
        </div>
    </div>


    <script type="module" src="script.min.js"></script>
	
</body>
</html>
