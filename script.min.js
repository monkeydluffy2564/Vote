const _0x176117=_0x2a2f;(function(_0x4c8688,_0x4d8eb4){const _0x44ccd2=_0x2a2f,_0x5a9e10=_0x4c8688();while(!![]){try{const _0x2e158=-parseInt(_0x44ccd2(0x245))/0x1*(parseInt(_0x44ccd2(0x22d))/0x2)+parseInt(_0x44ccd2(0x1c4))/0x3+parseInt(_0x44ccd2(0x230))/0x4*(parseInt(_0x44ccd2(0x1d8))/0x5)+-parseInt(_0x44ccd2(0x23b))/0x6*(-parseInt(_0x44ccd2(0x211))/0x7)+parseInt(_0x44ccd2(0x24e))/0x8*(parseInt(_0x44ccd2(0x1e1))/0x9)+-parseInt(_0x44ccd2(0x1fa))/0xa*(parseInt(_0x44ccd2(0x1d6))/0xb)+-parseInt(_0x44ccd2(0x1c5))/0xc;if(_0x2e158===_0x4d8eb4)break;else _0x5a9e10['push'](_0x5a9e10['shift']());}catch(_0x3d76d7){_0x5a9e10['push'](_0x5a9e10['shift']());}}}(_0x582e,0x5c74a));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,signInWithCustomToken,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,setDoc,getDoc,updateDoc,onSnapshot,increment,arrayUnion,setLogLevel}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const userProvidedConfig=_0x176117(0x20f),firebaseConfig=JSON[_0x176117(0x20d)](typeof __firebase_config!==_0x176117(0x21f)?__firebase_config:userProvidedConfig),appId=typeof __app_id!==_0x176117(0x21f)?__app_id:_0x176117(0x23d),app=initializeApp(firebaseConfig),db=getFirestore(app),auth=getAuth(app);setLogLevel(_0x176117(0x1bc));let userId=null,currentAdminSessionPath=null,currentAdminListener=null,currentVoterSessionPath=null,currentVoterListener=null,chartInstance=null;const ADMIN_PASSWORD=_0x176117(0x1e4),colors=[_0x176117(0x1bd),'#F56565','#48BB78',_0x176117(0x203),_0x176117(0x24d),_0x176117(0x210),_0x176117(0x209),_0x176117(0x24b),'#667EEA',_0x176117(0x1c3),'#38B2AC',_0x176117(0x1b6),_0x176117(0x1cd),_0x176117(0x1e7),'#4FD1C5',_0x176117(0x223),_0x176117(0x216),'#C53030','#3F729B',_0x176117(0x1dd),_0x176117(0x236),_0x176117(0x1fd),_0x176117(0x21b),_0x176117(0x1cc),_0x176117(0x248),_0x176117(0x200),_0x176117(0x1ba),'#F8C87A','#C79D9D','#E27857',_0x176117(0x1e2),'#F9D896',_0x176117(0x238),_0x176117(0x1ce),_0x176117(0x1c1),_0x176117(0x23c),_0x176117(0x1c9),'#D79F9F','#B3C8CC','#FDD5B1'],views=document['querySelectorAll'](_0x176117(0x226)),loadingView=document[_0x176117(0x1e3)](_0x176117(0x20a)),adminView=document['getElementById']('admin-view'),voterView=document['getElementById'](_0x176117(0x229)),adminCreatePoll=document['getElementById'](_0x176117(0x22b)),adminDashboard=document[_0x176117(0x1e3)]('admin-dashboard'),pollTopicInput=document[_0x176117(0x1e3)](_0x176117(0x1d1)),pollTypeSelect=document[_0x176117(0x1e3)](_0x176117(0x232)),voteRestrictionSelect=document[_0x176117(0x1e3)]('vote-restriction'),customOptionsContainer=document['getElementById']('custom-options-container'),customOptionsTextarea=document['getElementById']('custom-options-textarea'),startPollBtn=document[_0x176117(0x1e3)]('start-poll-btn'),adminError=document['getElementById'](_0x176117(0x1ca)),dashboardPin=document['getElementById'](_0x176117(0x218)),dashboardTopic=document['getElementById'](_0x176117(0x1dc)),closePollBtn=document[_0x176117(0x1e3)](_0x176117(0x1ec)),chartCanvas=document['getElementById'](_0x176117(0x1f5))['getContext']('2d'),adminLogoutBtn=document['getElementById'](_0x176117(0x23f)),adminLoginTrigger=document[_0x176117(0x1e3)]('admin-login-trigger'),adminLoginView=document['getElementById']('admin-login-view'),adminLoginCloseBtn=document[_0x176117(0x1e3)](_0x176117(0x1b8)),adminPasswordInput=document['getElementById'](_0x176117(0x205)),adminLoginError=document[_0x176117(0x1e3)](_0x176117(0x1cf)),adminLoginSubmitBtn=document['getElementById']('admin-login-submit-btn'),voterPinEntry=document['getElementById'](_0x176117(0x1f4)),voterVotingArea=document[_0x176117(0x1e3)](_0x176117(0x1f1)),voterMessageArea=document['getElementById']('voter-message-area'),pinInput=document[_0x176117(0x1e3)]('pin-input'),joinPollBtn=document[_0x176117(0x1e3)](_0x176117(0x22a)),voterError=document['getElementById'](_0x176117(0x22f)),voterTopic=document['getElementById']('voter-topic'),voterOptionsContainer=document['getElementById']('voter-options-container'),voterVoteError=document[_0x176117(0x1e3)](_0x176117(0x213)),voterMessageTitle=document[_0x176117(0x1e3)](_0x176117(0x1d4)),voterMessageBody=document[_0x176117(0x1e3)](_0x176117(0x1d9)),voterBackPinBtn=document['getElementById'](_0x176117(0x1fe));function _0x2a2f(_0x191a00,_0x2fee52){const _0x582e45=_0x582e();return _0x2a2f=function(_0x2a2fe1,_0x52e505){_0x2a2fe1=_0x2a2fe1-0x1b1;let _0x4f970b=_0x582e45[_0x2a2fe1];return _0x4f970b;},_0x2a2f(_0x191a00,_0x2fee52);}function showView(_0x46c6e8){const _0x668085=_0x176117;views[_0x668085(0x214)](_0x37d11d=>{const _0x2c32b9=_0x668085;_0x37d11d[_0x2c32b9(0x1be)][_0x2c32b9(0x1fb)]=_0x37d11d['id']===_0x46c6e8?_0x2c32b9(0x1f6):_0x2c32b9(0x220),_0x46c6e8===_0x2c32b9(0x24a)&&(_0x37d11d[_0x2c32b9(0x1be)][_0x2c32b9(0x1fb)]=_0x2c32b9(0x207));}),_0x46c6e8!==_0x668085(0x24a)&&(adminLoginView[_0x668085(0x1be)][_0x668085(0x1fb)]='none');}function showVoterMessage(_0x389cef,_0x5ea036,_0x4a45be=!![]){const _0x5b8c97=_0x176117;voterMessageTitle[_0x5b8c97(0x22e)]=_0x389cef,voterMessageBody[_0x5b8c97(0x22e)]=_0x5ea036,voterPinEntry['style'][_0x5b8c97(0x1fb)]=_0x5b8c97(0x220),voterVotingArea[_0x5b8c97(0x1be)][_0x5b8c97(0x1fb)]='none',voterMessageArea[_0x5b8c97(0x1be)][_0x5b8c97(0x1fb)]=_0x5b8c97(0x1f6),voterBackPinBtn[_0x5b8c97(0x1be)][_0x5b8c97(0x1fb)]=_0x4a45be?_0x5b8c97(0x22c):_0x5b8c97(0x220);}function updateChart(_0x1adf0b,_0x2f0b67){const _0x5f335b=_0x176117;chartInstance&&chartInstance[_0x5f335b(0x1e8)]();const _0x564667=_0x2f0b67,_0x16ebf7=_0x564667[_0x5f335b(0x1eb)](_0x3ab99b=>_0x1adf0b[_0x3ab99b]||0x0),_0x4a822e=_0x564667[_0x5f335b(0x1eb)]((_0x2a8a15,_0x13e942)=>{const _0x4ce7dd=_0x5f335b;return colors[_0x13e942%colors[_0x4ce7dd(0x1b1)]];});chartInstance=new Chart(chartCanvas,{'type':_0x5f335b(0x206),'data':{'labels':_0x564667,'datasets':[{'label':_0x5f335b(0x1f0),'data':_0x16ebf7,'backgroundColor':_0x4a822e,'borderColor':_0x4a822e[_0x5f335b(0x1eb)](_0x2b8b09=>_0x2b8b09),'borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}}},'plugins':{'legend':{'display':![]}}}});}onAuthStateChanged(auth,_0x18aa10=>{const _0x100ca8=_0x176117;_0x18aa10?(userId=_0x18aa10[_0x100ca8(0x219)],console['log'](_0x100ca8(0x1cb),userId),showView(_0x100ca8(0x229)),voterPinEntry[_0x100ca8(0x1be)][_0x100ca8(0x1fb)]=_0x100ca8(0x1f6),voterVotingArea[_0x100ca8(0x1be)][_0x100ca8(0x1fb)]=_0x100ca8(0x220),voterMessageArea[_0x100ca8(0x1be)][_0x100ca8(0x1fb)]=_0x100ca8(0x220)):handleSignIn();});async function handleSignIn(){const _0x58a600=_0x176117;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?(console[_0x58a600(0x1b9)](_0x58a600(0x243)),await signInWithCustomToken(auth,__initial_auth_token)):(console[_0x58a600(0x1b9)](_0x58a600(0x1b3)),await signInAnonymously(auth));}catch(_0x17a14b){console[_0x58a600(0x246)](_0x58a600(0x1e0),_0x17a14b),loadingView['innerHTML']=_0x58a600(0x1ed)+_0x17a14b[_0x58a600(0x1b4)]+_0x58a600(0x1e6);}}function _0x582e(){const _0x1aeb4f=['createElement','Authentication\x20Error:','50922fFeIwg','#8FC0A9','getElementById','2741','เกิดข้อผิดพลาดในการเชื่อมต่อ','</p>','#D53F8C','destroy','ไม่เห็นด้วย','รอบโหวตสิ้นสุดลง','map','close-poll-btn','<h1\x20class=\x22text-2xl\x20font-bold\x20text-red-600\x22>Authentication\x20Failed</h1><p>','opacity-50','cursor-not-allowed','จำนวนโหวต','voter-voting-area','ไม่พบ\x20PIN\x20นี้\x20หรือรอบโหวตปิดแล้ว','text-red-500','voter-pin-entry','vote-chart','block','hidden','รอบโหวตปิดแล้ว','addEventListener','30LpRGmy','display','appendChild','#EB4966','voter-back-pin-btn','innerHTML','#D05353','backgroundColor','กรุณาใส่หัวข้อโหวต','#ECC94B','includes','admin-password','bar','flex','ผู้ดูแลได้ปิดรอบโหวตนี้แล้ว\x20ขอบคุณที่เข้าร่วม','#A0AEC0','loading-view','รอบโหวตนี้ถูกปิดโดยผู้ดูแลแล้ว','boxShadow','parse','yes-no','{\x22apiKey\x22:\x22AIzaSyBHmJ7M5qf20lKPTB9_aE2Ppa0-jTryuuI\x22,\x22authDomain\x22:\x22programpp-91f08.firebaseapp.com\x22,\x22projectId\x22:\x22programpp-91f08\x22,\x22storageBucket\x22:\x22programpp-91f08.firebasestorage.app\x22,\x22messagingSenderId\x22:\x22415403943738\x22,\x22appId\x22:\x221:415403943738:web:f56ec72de49f81f0315203\x22,\x22measurementId\x22:\x22G-W19QNQQR25\x22}','#ED8936','87059niwSqX','Error\x20casting\x20vote:','voter-vote-error','forEach','slice','#6B46C1','single','dashboard-pin','uid','querySelectorAll','#5BBFBA','click','โหวตสำเร็จ!','toString','undefined','none','admin-view','className','#F6E05E','votes','multiple','.view','/public/data/voting_sessions/','รอบโหวตนี้ปิดไปแล้ว','voter-view','join-poll-btn','admin-create-poll','inline-block','1436dFcMDR','textContent','voter-error','8884OpOBBb','add','poll-type','random','filter','voteRestriction','#9F80A0','options','#8C8C8C','remove','PIN\x20ต้องมี\x204\x20หลัก','30nTqbsq','#E3AF86','default-app-id','borderColor','admin-logout-btn','split','เกิดข้อผิดพลาดในการสร้างโหวต','กรุณากำหนดตัวเลือกอย่างน้อย\x202\x20ข้อ\x20(สูงสุด\x20','Signing\x20in\x20with\x20custom\x20token...','รอบโหวตสิ้นสุดลงแล้ว','661RxsNke','error','round','#9D6C5B','floor','admin-login-view','#F6AD55','mouseenter','#9F7AEA','1024bYfVZj','length','.voter-option-btn','Signing\x20in\x20anonymously...','message','exists','#D69E2E','/artifacts/','admin-login-close-btn','log','#7FB7BE','trim','debug','#4299E1','style','data','target','#93A8AC','w-full\x20text-white\x20p-4\x20rounded-lg\x20font-semibold\x20text-lg\x20transition\x20duration-300\x20shadow-md\x20voter-option-btn','#E53E3E','2013363GGtYJg','4731756XjiHIG','classList','value','text-blue-500','#A1B0AB','admin-error','User\x20authenticated\x20with\x20UID:','#F7B75F','#805AD5','#B38E8E','admin-login-error','รหัสผ่านไม่ถูกต้อง','poll-topic','\x20ตัวเลือก','voters','voter-message-title','isActive','875578fghldn','topic','65qtecdG','voter-message-body','Error\x20closing\x20poll:','disabled','dashboard-topic','#F3AD74','button'];_0x582e=function(){return _0x1aeb4f;};return _0x582e();}showView('loading-view'),adminLoginTrigger[_0x176117(0x1f9)](_0x176117(0x21c),()=>{const _0x2e3336=_0x176117;adminLoginView[_0x2e3336(0x1be)][_0x2e3336(0x1fb)]=_0x2e3336(0x207),adminPasswordInput[_0x2e3336(0x1c7)]='',adminLoginError['textContent']='';}),adminLoginCloseBtn[_0x176117(0x1f9)]('click',()=>{const _0x22892c=_0x176117;adminLoginView[_0x22892c(0x1be)][_0x22892c(0x1fb)]=_0x22892c(0x220);}),adminLoginSubmitBtn['addEventListener'](_0x176117(0x21c),()=>{const _0x25b8be=_0x176117;adminPasswordInput[_0x25b8be(0x1c7)]===ADMIN_PASSWORD?(adminLoginView[_0x25b8be(0x1be)]['display']=_0x25b8be(0x220),showView(_0x25b8be(0x221)),adminCreatePoll[_0x25b8be(0x1be)][_0x25b8be(0x1fb)]='block',adminDashboard['style'][_0x25b8be(0x1fb)]=_0x25b8be(0x220)):adminLoginError['textContent']=_0x25b8be(0x1d0);}),adminLogoutBtn[_0x176117(0x1f9)]('click',()=>{const _0x3ebe76=_0x176117;showView(_0x3ebe76(0x229)),voterPinEntry['style']['display']=_0x3ebe76(0x1f6),voterVotingArea[_0x3ebe76(0x1be)]['display']='none',voterMessageArea[_0x3ebe76(0x1be)]['display']='none';}),document[_0x176117(0x1e3)](_0x176117(0x1fe))['addEventListener'](_0x176117(0x21c),()=>{const _0xc9ecef=_0x176117;voterPinEntry[_0xc9ecef(0x1be)][_0xc9ecef(0x1fb)]=_0xc9ecef(0x1f6),voterVotingArea[_0xc9ecef(0x1be)][_0xc9ecef(0x1fb)]=_0xc9ecef(0x220),voterMessageArea[_0xc9ecef(0x1be)]['display']='none',pinInput[_0xc9ecef(0x1c7)]='',voterError[_0xc9ecef(0x22e)]='';});const MAX_CUSTOM_OPTIONS=0x28;pollTypeSelect['addEventListener']('change',_0x2726c8=>{const _0x544197=_0x176117;_0x2726c8[_0x544197(0x1c0)]['value']==='custom'?customOptionsContainer[_0x544197(0x1c6)][_0x544197(0x239)](_0x544197(0x1f7)):customOptionsContainer[_0x544197(0x1c6)][_0x544197(0x231)](_0x544197(0x1f7));}),startPollBtn['addEventListener'](_0x176117(0x21c),async()=>{const _0x23ca1a=_0x176117,_0x394f09=pollTopicInput[_0x23ca1a(0x1c7)][_0x23ca1a(0x1bb)](),_0x5e79a0=pollTypeSelect[_0x23ca1a(0x1c7)],_0x25eb3a=voteRestrictionSelect[_0x23ca1a(0x1c7)];let _0x48c0a3=[],_0x2575bb={};adminError[_0x23ca1a(0x22e)]='',adminError[_0x23ca1a(0x1c6)][_0x23ca1a(0x239)](_0x23ca1a(0x1c8)),adminError[_0x23ca1a(0x1c6)][_0x23ca1a(0x231)](_0x23ca1a(0x1f3));if(!_0x394f09){adminError['textContent']=_0x23ca1a(0x202);return;}if(_0x5e79a0===_0x23ca1a(0x20e))_0x48c0a3=['เห็นด้วย',_0x23ca1a(0x1e9)];else{if(_0x5e79a0==='custom'){_0x48c0a3=customOptionsTextarea[_0x23ca1a(0x1c7)][_0x23ca1a(0x240)]('\x0a')[_0x23ca1a(0x1eb)](_0x496ed3=>_0x496ed3[_0x23ca1a(0x1bb)]())[_0x23ca1a(0x234)](_0x3a304e=>_0x3a304e[_0x23ca1a(0x1b1)]>0x0);if(_0x48c0a3[_0x23ca1a(0x1b1)]<0x2){adminError[_0x23ca1a(0x22e)]=_0x23ca1a(0x242)+MAX_CUSTOM_OPTIONS+'\x20ตัวเลือก)';return;}if(_0x48c0a3[_0x23ca1a(0x1b1)]>MAX_CUSTOM_OPTIONS){adminError['textContent']='กำหนดตัวเลือกได้สูงสุด\x20'+MAX_CUSTOM_OPTIONS+_0x23ca1a(0x1d2);return;}}}_0x48c0a3[_0x23ca1a(0x214)](_0x4cc6fa=>{_0x2575bb[_0x4cc6fa]=0x0;});const _0x52003c=Math[_0x23ca1a(0x249)](0x3e8+Math[_0x23ca1a(0x233)]()*0x2328)['toString']();currentAdminSessionPath=_0x23ca1a(0x1b7)+appId+_0x23ca1a(0x227)+_0x52003c;const _0x52d616={'pin':_0x52003c,'topic':_0x394f09,'options':_0x48c0a3,'votes':_0x2575bb,'isActive':!![],'voteRestriction':_0x25eb3a};_0x25eb3a===_0x23ca1a(0x217)&&(_0x52d616['voters']=[]);try{await setDoc(doc(db,currentAdminSessionPath),_0x52d616),dashboardPin[_0x23ca1a(0x22e)]=_0x52003c,dashboardTopic['textContent']=_0x394f09,adminCreatePoll[_0x23ca1a(0x1be)]['display']='none',adminDashboard[_0x23ca1a(0x1be)][_0x23ca1a(0x1fb)]='block',listenToAdminSession(currentAdminSessionPath);}catch(_0x385f9f){console['error']('Error\x20creating\x20poll:',_0x385f9f),adminError['textContent']=_0x23ca1a(0x241);}}),closePollBtn[_0x176117(0x1f9)](_0x176117(0x21c),async()=>{const _0x1e2fdf=_0x176117;if(!currentAdminSessionPath)return;try{await updateDoc(doc(db,currentAdminSessionPath),{'isActive':![]});}catch(_0x530bc4){console[_0x1e2fdf(0x246)](_0x1e2fdf(0x1da),_0x530bc4);}}),joinPollBtn[_0x176117(0x1f9)](_0x176117(0x21c),async()=>{const _0x225147=_0x176117,_0x3b5431=pinInput[_0x225147(0x1c7)]['trim']();voterError[_0x225147(0x22e)]='';if(_0x3b5431[_0x225147(0x1b1)]!==0x4){voterError['textContent']=_0x225147(0x23a);return;}const _0x1d6a09='/artifacts/'+appId+_0x225147(0x227)+_0x3b5431;try{const _0x16a2e1=await getDoc(doc(db,_0x1d6a09));if(_0x16a2e1[_0x225147(0x1b5)]()&&_0x16a2e1[_0x225147(0x1bf)]()[_0x225147(0x1d5)])currentVoterSessionPath=_0x1d6a09,voterPinEntry[_0x225147(0x1be)][_0x225147(0x1fb)]=_0x225147(0x220),voterVotingArea['style'][_0x225147(0x1fb)]=_0x225147(0x1f6),voterMessageArea[_0x225147(0x1be)][_0x225147(0x1fb)]=_0x225147(0x220),listenToVoterSession(_0x1d6a09);else _0x16a2e1[_0x225147(0x1b5)]()&&!_0x16a2e1[_0x225147(0x1bf)]()['isActive']?voterError[_0x225147(0x22e)]=_0x225147(0x228):voterError[_0x225147(0x22e)]=_0x225147(0x1f2);}catch(_0xc2df22){console[_0x225147(0x246)]('Error\x20joining\x20poll:',_0xc2df22),voterError['textContent']=_0x225147(0x1e5);}});function listenToAdminSession(_0x5c11c8){currentAdminListener&&currentAdminListener(),currentAdminListener=onSnapshot(doc(db,_0x5c11c8),_0x50eff5=>{const _0x2129b1=_0x2a2f;if(_0x50eff5[_0x2129b1(0x1b5)]()&&_0x50eff5[_0x2129b1(0x1bf)]()['isActive']){const _0x3d7d43=_0x50eff5[_0x2129b1(0x1bf)]();updateChart(_0x3d7d43[_0x2129b1(0x224)],_0x3d7d43[_0x2129b1(0x237)]);}else currentAdminListener&&(currentAdminListener(),currentAdminListener=null),currentAdminSessionPath=null,chartInstance&&(chartInstance[_0x2129b1(0x1e8)](),chartInstance=null),adminError[_0x2129b1(0x22e)]=_0x2129b1(0x244),adminError[_0x2129b1(0x1c6)][_0x2129b1(0x239)](_0x2129b1(0x1f3)),adminError[_0x2129b1(0x1c6)][_0x2129b1(0x231)](_0x2129b1(0x1c8)),adminCreatePoll[_0x2129b1(0x1be)][_0x2129b1(0x1fb)]=_0x2129b1(0x1f6),adminDashboard[_0x2129b1(0x1be)]['display']=_0x2129b1(0x220),pollTopicInput[_0x2129b1(0x1c7)]='',customOptionsTextarea[_0x2129b1(0x1c7)]='',customOptionsContainer[_0x2129b1(0x1c6)][_0x2129b1(0x231)]('hidden'),pollTypeSelect[_0x2129b1(0x1c7)]=_0x2129b1(0x20e),voteRestrictionSelect[_0x2129b1(0x1c7)]=_0x2129b1(0x225);});}function listenToVoterSession(_0x3f28cc){currentVoterListener&&currentVoterListener(),currentVoterListener=onSnapshot(doc(db,_0x3f28cc),_0x2a3403=>{const _0x572ed3=_0x2a2f;if(!_0x2a3403[_0x572ed3(0x1b5)]()){if(currentVoterListener)currentVoterListener();showVoterMessage(_0x572ed3(0x1ea),_0x572ed3(0x20b),!![]);return;}const _0x1836e0=_0x2a3403['data']();if(!_0x1836e0['isActive']){if(currentVoterListener)currentVoterListener();showVoterMessage(_0x572ed3(0x1f8),_0x572ed3(0x208),!![]);return;}if(_0x1836e0[_0x572ed3(0x235)]===_0x572ed3(0x217)&&_0x1836e0[_0x572ed3(0x1d3)]&&_0x1836e0[_0x572ed3(0x1d3)][_0x572ed3(0x204)](userId)){showVoterMessage(_0x572ed3(0x21d),'คุณได้ส่งคะแนนโหวตของคุณในรอบนี้แล้ว',![]);return;}voterTopic['textContent']=_0x1836e0[_0x572ed3(0x1d7)],voterVoteError[_0x572ed3(0x22e)]='',voterOptionsContainer[_0x572ed3(0x1ff)]='',_0x1836e0[_0x572ed3(0x237)][_0x572ed3(0x214)]((_0x3554bb,_0x3777f3)=>{const _0x3bf652=_0x572ed3,_0x195371=document[_0x3bf652(0x1df)](_0x3bf652(0x1de));_0x195371[_0x3bf652(0x22e)]=_0x3554bb;const _0x2f18d9=colors[_0x3777f3%colors['length']];_0x195371[_0x3bf652(0x222)]=_0x3bf652(0x1c2),_0x195371['style']['backgroundColor']=_0x2f18d9,_0x195371[_0x3bf652(0x1be)][_0x3bf652(0x23e)]=_0x2f18d9,_0x195371[_0x3bf652(0x1be)][_0x3bf652(0x20c)]='0\x204px\x206px\x20-1px\x20rgba(0,\x200,\x200,\x200.1),\x200\x202px\x204px\x20-1px\x20rgba(0,\x200,\x200,\x200.06),\x20inset\x200\x20-3px\x200\x20rgba(0,0,0,0.2)',_0x195371[_0x3bf652(0x1f9)](_0x3bf652(0x24c),()=>_0x195371['style'][_0x3bf652(0x201)]=darkenColor(_0x2f18d9,0xa)),_0x195371[_0x3bf652(0x1f9)]('mouseleave',()=>_0x195371['style']['backgroundColor']=_0x2f18d9),_0x195371[_0x3bf652(0x1f9)](_0x3bf652(0x21c),()=>handleVote(_0x3554bb,_0x1836e0[_0x3bf652(0x235)])),voterOptionsContainer[_0x3bf652(0x1fc)](_0x195371);});});}function darkenColor(_0x2adf15,_0x46f5f8){const _0x2437e1=_0x176117;var _0x23b072=parseInt(_0x2adf15[_0x2437e1(0x215)](0x1),0x10),_0x474ff7=_0x46f5f8<0x0?0x0:0xff,_0x2fff69=_0x46f5f8<0x0?_0x46f5f8*-0x1:_0x46f5f8,_0x4490c4=_0x23b072>>0x10,_0x1c33a5=_0x23b072>>0x8&0xff,_0x200df0=_0x23b072&0xff;return'#'+(0x1000000+(Math[_0x2437e1(0x247)]((_0x474ff7-_0x4490c4)*_0x2fff69)+_0x4490c4)*0x10000+(Math[_0x2437e1(0x247)]((_0x474ff7-_0x1c33a5)*_0x2fff69)+_0x1c33a5)*0x100+(Math[_0x2437e1(0x247)]((_0x474ff7-_0x200df0)*_0x2fff69)+_0x200df0))[_0x2437e1(0x21e)](0x10)[_0x2437e1(0x215)](0x1);}async function handleVote(_0x46e654,_0x1b875b){const _0x35e314=_0x176117;voterVoteError[_0x35e314(0x22e)]='',document['querySelectorAll'](_0x35e314(0x1b2))['forEach'](_0x42543a=>{const _0x1c0eec=_0x35e314;_0x42543a[_0x1c0eec(0x1db)]=!![],_0x42543a['classList'][_0x1c0eec(0x231)]('opacity-50',_0x1c0eec(0x1ef));});try{const _0x196042=doc(db,currentVoterSessionPath),_0x5ce5c4='votes.'+_0x46e654,_0x2b8254={[_0x5ce5c4]:increment(0x1)};_0x1b875b==='single'&&(_0x2b8254['voters']=arrayUnion(userId)),await updateDoc(_0x196042,_0x2b8254),_0x1b875b==='multiple'&&showVoterMessage(_0x35e314(0x21d),'ขอบคุณที่ส่งคะแนนโหวต\x20(เครื่องนี้สามารถใช้โหวตคนถัดไปได้)',!![]);}catch(_0x4898e3){console['error'](_0x35e314(0x212),_0x4898e3),document[_0x35e314(0x21a)]('.voter-option-btn')[_0x35e314(0x214)](_0x2bae51=>{const _0x289b17=_0x35e314;_0x2bae51[_0x289b17(0x1db)]=![],_0x2bae51[_0x289b17(0x1c6)]['remove'](_0x289b17(0x1ee),_0x289b17(0x1ef));}),voterVoteError[_0x35e314(0x22e)]='เกิดข้อผิดพลาดในการส่งโหวต\x20กรุณาลองอีกครั้ง';}}
